<div class="body">

  <div class="container-fluid">


    <div class="row">

      <div class="col-md-6 offset-md-1">

        <div style="margin-top: 10%;">
          <!-- <input type="text"> -->

          <div class="mt-2">

            <mat-accordion>
              <mat-expansion-panel (closed)="panelOpenState = true" (opened)="panelOpenState = false">
                <mat-expansion-panel-header class="bg-dark text-light">

                  <mat-panel-title>
                    Coupon Generation
                  </mat-panel-title>
                  <mat-panel-description>
                    <span class="material-icons mr-2">
                      design_services
                    </span>
                    Design & Customization
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <div class="card">
                  <div class="text-center font-weight-bold"><i class="material-icons">
                      colorize
                    </i> Choose Colors</div>
                  <div class="card-body">
                    <div class="sidebar">

                      <div class="picker">

                        <app-color-picker [color]="backgroundColor" [heading]="'Background'"
                          (event)="setColor('background', $event)"></app-color-picker>

                        <app-color-picker [color]="fontColor" [heading]="'Font'" (event)="setColor('font', $event)">
                        </app-color-picker>
                      </div>

                      <div class="picker">
                        <app-color-picker [color]="linkColor" [heading]="'Links'" (event)="setColor('link', $event)">
                        </app-color-picker>
                      </div>
                    </div>

                    <div class="color-picker">
                      <div class="summary-info" (click)="toggleColors()">
                        <div class="info">
                          <p class="style">{{ heading }}</p>
                          <p class="style-value">{{ color }}</p>
                        </div>

                        <div class="circle" [ngStyle]="{'background': color}"></div>
                      </div>

                      <div *ngIf="show" class="opened">
                        <div class="colors">
                          <div (click)="changeColor(paint)" *ngFor="let paint of defaultColors" class="circle"
                            [ngStyle]="{'background': paint}"></div>
                        </div>

                        <div class="hex-code">
                          <p>Hex Code</p>
                          <div class="g-input">
                            <input type="text" maxlength="7" [value]="color"
                              (keyup)="changeColorManual(paintInput.value)" (keydown.enter)="toggleColors()"
                              #paintInput />
                          </div>
                        </div>
                      </div>
                    </div>
                    <mat-divider></mat-divider>

                    <div class="ml-3 font-weight-bold text-center"><span class="material-icons">
                        image
                      </span> Image </div>

                    <div> Size </div>
                    <div style="color:red;" *ngIf="message">{{message}}</div>
                    <mat-slider min="50" max="260" step="20.5" value={{ImgSize}} thumbLabel [displayWith]="formatLabel"
                      tickInterval="1000" (change)="updateSetting($event)"></mat-slider>
                    <input #file type="file" accept='image/*' (change)="preview(file.files)" class="btn">
                  </div>


                </div>
              </mat-expansion-panel>

            </mat-accordion>
          </div>


          <div class="mt-2">
            <mat-accordion>
              <mat-expansion-panel (closed)="panelOpenState = true" (opened)="panelOpenState = false">
                <mat-expansion-panel-header class="bg-dark">
                  <mat-panel-title class="">
                    Coupon Generation
                  </mat-panel-title>
                  <mat-panel-description>
                    <span class="material-icons mr-2">
                      perm_device_information
                    </span> Basic Information

                  </mat-panel-description>
                </mat-expansion-panel-header>
                <div class="card">
                  <div class="card-body">

                    <div class="container">
                      <form action="/action_page.php">
                        <label for="fname">Company:</label>
                        <input type="text" id="fname" name="firstname" class="ftext" placeholder="Your name.."
                          [(ngModel)]="Company">

                        <label for="lname">Headline:</label>
                        <input type="text" id="lname" name="lastname" class="ftext" placeholder="Your last name.."
                          [(ngModel)]="heading">
                        <label for="subject">Description:</label>
                        <textarea id="subject" name="subject" placeholder="Write something.." style="height:80px"
                          [(ngModel)]="desc"></textarea>

                        <label for="country">Sale Badge: </label>
                        <select id="country" name="country">
                          <option value="australia">50% off</option>
                          <option value="canada">20 % off</option>
                          <option value="usa">2 for 1</option>
                        </select>


                        <!-- <input type="submit" value="Submit"> -->
                      </form>
                    </div>
                  </div>
                </div>
              </mat-expansion-panel>
              <!-- <mat-action-row>
                        <button mat-button>Click me</button>
                      </mat-action-row> -->

            </mat-accordion>
          </div>
          <div class="mt-2">
            <mat-accordion>
              <mat-expansion-panel (closed)="panelOpenState = true" (opened)="panelOpenState = false">
                <mat-expansion-panel-header class="bg-dark">
                  <mat-panel-title class="">
                    Coupon Generation
                  </mat-panel-title>
                  <mat-panel-description>
                    <span class="material-icons mr-2">
                      perm_device_information
                    </span> Basic Information

                  </mat-panel-description>
                </mat-expansion-panel-header>
                <div class="card">
                  <div class="card-body">

                    <div class="container">
                      <form >
                        <label for="cname">Coupon Name*:</label>
                        <input type="text" id="cname" name="cname" class="ftext" placeholder="Your name.."
                          [(ngModel)]="couponcode">

                        <label for="validity">Valid until*:</label>
                        <input type="text" id="validity" name="validity" class="ftext" placeholder="Your last name.."
                          [(ngModel)]="validity">
                        <label for="tnc">Terms & Conditions:</label>
                        <textarea id="tnc" name="tnc" placeholder="Mention all T&Cs" style="height:80px"
                          [(ngModel)]="tnc"></textarea>

                        <label for="web">Website:</label>
                        <textarea id="web" name="web" placeholder="Type your website here" style="height:80px"
                          [(ngModel)]="tnc"></textarea>

                       
                        <!-- <input type="text" name="product" list="productName"/>
<datalist id="productName">
    <option value="Pen">Pen</option>
    <option value="Pencil">Pencil</option>
    <option value="Paper">Paper</option>
</datalist> -->

                        <!-- <input type="submit" value="Submit"> -->
                      </form>
                    </div>
                  </div>
                </div>
              </mat-expansion-panel>
              <!-- <mat-action-row>
                        <button mat-button>Click me</button>
                      </mat-action-row> -->

            </mat-accordion>
          </div>

        </div>
      </div>
      <div class="offset-md-2 bg-light">
        <!-- <mobile></mobile> -->


        <div class="smartphone">
          <!-- <div class="text-center"> -->
          <!-- <div class="content"> -->

          <div class="app" *ngIf="!coupon">

            <div class="container main-content">

              <div class="card">
                <div class="card-header">
                  <div class="row">
                    <div class="col-md-10"><span> {{Company}}</span></div>
                    <div class="col-md-2">
                      <span class="material-icons share" style="position:static;">
                        share
                      </span></div>
                  </div>
                </div>
                <div class="background" [ngStyle]="{background: backgroundColor}">
                  <div>
                    <img class="img" [style.width.px]="ImgSize" [src]="imgURL" *ngIf="imgURL">
                  </div>
                  <div class="text-center">
                    <span class="badge badge1 badge-primary ">25%</span>
                  </div>


                  <div class="card-body">
                    <h5>{{heading}}</h5>
                    <span [ngStyle]="{color: fontColor}">
                      {{desc}}
                    </span>


                  </div>
                </div>
                <div class="text-center">
                  <button class="btn btn-block text-light" [ngStyle]="{background: linkColor}" (click)="couponc()">Get
                    Coupon</button>
                </div>
              </div>


            </div>
          </div>
          <!-- </div> -->
          <!-- </div> -->
          <!-- <div class="font-weight-bold text-center mt-3">  QR Code Preview</div> -->
          <div class="container" style="background-color: rgb(68, 127, 182);height: 100%;" >
            <div class="text-light">
              <div class="row ">
                <div class="col-md-10 c" ><h4> {{Company}}</h4></div>
                <div class="col-md-2 c">
                  <span class="material-icons share">
                    share
                  </span></div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-10 offset-md-1">
                <div class="card" *ngIf="coupon" style="margin-top: 40px;">
               
                  <div class="card-body">
                  <div class="text-center">
                    <h4 class="mar1"> Coupon Code</h4>
                    <h3 class="mar1">{{couponcode}}</h3>
                 
                      <div class="mar">
                        <span class="material-icons font-weight-bold">
                          access_time
                          </span>Valid until {{ validity}}
                      </div>
                      <button class="badge badge-pill mar" (click)="copyMessage(couponcode)" value="click to copy" ><span class="material-icons">
                        content_copy
                        </span>{{btn}}</button>
                  </div>
                  
                       <button class="btn btn-primary btn-block mar" [ngStyle]="{background: linkColor}">
                         Redeem Code
                       </button>
                       <button class="btn btn-block mar1 btn-success" >
                       View Location
                       </button>
                   
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>

</div>